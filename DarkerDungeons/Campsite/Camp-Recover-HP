!/w gm &{template:default}{&define ([HitDieVal] {&if @{selected|class_display} ~ 'Barbarian'}12{& elseif @{selected|class_display} ~ 'Fighter' || @{selected|class_display} ~ 'Paladin' || @{selected|class_display} ~ 'Ranger'}10{& elseif @{selected|class_display} ~ 'Sorcerer' || @{selected|class_display} ~ 'Wizard'}6{& else}8{& end}) ([HitDice] ?{How many dice do you wish to spend?|1|2|3|4|5}) ([ConBonus] @{selected|constitution_mod}*?{How many dice do you wish to spend?}) }{& if HitDice > @{selected|hit_dice}}{{You don't have that many hit dice to spend!}}{&else}{{name=@{selected|character_name} Spends Hit Dice}}{{Result (HitDicedHitDieVal+ConBonus)= [\[?{How many dice do you wish to spend?}dHitDieVal+(ConBonus)]\]}}%NEWLINE%!modbattr --charid @{selected|character_id} --hp|$[[0]].value --hit_dice|-?{How many dice do you wish to spend?}{& end}{&simple}

